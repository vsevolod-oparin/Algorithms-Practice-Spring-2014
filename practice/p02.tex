\section{Практика 2. Splay-деревья}

\subsection{Практика}

\begin{enumerate}

  \item Рассмотрим сортировку через \texttt{splay}-деревья. Докажите, что на 
уже отсортированном массиве она работает за $O(n)$.
  
  \item Агрегация на splay-деревьях. Для фиксированной ассоциативной функции
требуется посчитать ее значение на наборе последовательных элементов.

  \item Дан массив из $n$ чисел от $1$ до $n$. Изначально все числа расположены
в порядке возрастания. Требуется уметь обрабатывать два типа запроса:
  \begin{itemize}
    \item Вернуть элемент, стоящий на $i$-ой позиции.
    \item Переместить под отрезок из элементов с $l$-ой позиции по $r$-ую в 
       начало массива.
  \end{itemize}
  Требуется обработать $m$ запросов за время $O(m \log n)$.

  \item Рассказ про парные кучи. Как устроена. Функция потенциалов. Переход
к дереву.

\end{enumerate}

\subsection{Домашнее задание}
\textbf{Дедлайн: 19 февраля, 23.59}

\begin{enumerate}

  \item Сдать \href{http://acm.timus.ru/problem.aspx?space=1&num=1439}
{Задачу 1439} с Тимуса.

  \item Решите \textbf{теоретически}  \href{http://www.e-olimp.com/problems/689}
{Задачу Своппер} с е-Олимпа за $O((n + m) \log n)$. Дополнительный балл за сдачу
в систему.

  \item Докажите, что в Pairing Heap все операции работают амортизационно за 
$O(\log n)$.

Hint: Используйте преобразование кучи по принципу левый ребенок -- правый сосед. Также
используйте потенциал для splay-деревьев.

  \item Пусть \texttt{splay}-дерево поддерживает множество $S$. Каждый элемент 
$x_i \in S$ был запрошен $p_i * m$ раз, где $m$ -- общее число запросов. 
Гарантируется, что $p_i > 0$. Докажите, что \texttt{splay}-дерево обрабатывает
все запросы за время $O(m \cdot \left[ 1 + \sum_{i} p_i \cdot \log \frac{1}{p_i} 
\right])$.

Hint: Подберите подходящие ранги и воспользуйтесь анализом splay-деревьев.

\end{enumerate}

\subsection{Что почитать...}

\begin{itemize}
  
  \item Оригинальная статья Слейтора и Тарьяна ``Self-Adjusting Binary Search Trees''.
  Там есть описание splay-деревьев; несколько теорем о производительности, включая
  статическую оптимальность; два применения: link-cut trees и splay-бор.
  
  \item Статья Тарьяна и компании про спариваемые кучи: Fredman, Sedgewick, 
  Sleator, Tarjan ``The pairing heap: a new form of self-adjusting heap''.

\end{itemize}

\clearpage
