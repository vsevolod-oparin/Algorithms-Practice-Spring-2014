\section{Практика 1. AVL-деревья}

\subsection{Практика}

\begin{enumerate}
  \item Придумать структуру данных (СД), которая поддерживает множество $S \subseteq \mathbb{N}$ со следующими операциями:
    \begin{itemize}
      \item добавить элемент $x$;
      \item удалить элемент $x$;
      \item найти $i$-ый по порядку элемент;
      \item найти порядок элемента $x$ --
    \end{itemize}  
    за $O(\log n)$.

  \item Придумать СД, которая поддерживает множество $S \subseteq \mathbb{N}$ со следующими операциями:
    \begin{itemize}
      \item добавить элемент $x$;
      \item удалить элемент $x$;
      \item найти сумму всех чисел на отрезке $[l, r]$, лежащих в множестве $S$ --
    \end{itemize}  
    за $O(\log n)$.
    
   \textbf{Примечание.} Можно также реализовать любую ассоциативную операцию.    


  \item Придумать СД, которая поддерживает множество точек $S \subseteq \mathbb{N}^2$ со следующими операциями:
    \begin{itemize}
      \item добавить точку $x$;
      \item удалить точку $x$;
      \item найти минимальную площадь прямоугольников, который покрывает все точки из $S$, чьи координаты по оси $Ox$ лежат в отрезке $[l, r]$ --
    \end{itemize}
    за $O(\log n)$.

  \item Доказать, что в BST можно вывести $k$ подряд идущих элементов за $O(k + \log n)$.

\end{enumerate}

\subsection{Домашнее задание}
\textbf{Дедлайн: 19 февраля, 23.59}

\begin{enumerate}

  \item Сдать в систему acm.timus.ru задачу  \href{http://acm.timus.ru/problem.aspx?space=1&num=1028}{Stars} на AVL-деревьях.

  \item Доказать, что в AVL-дереве можно вывести $k$ подряд идущих элементов за $O(k + \log n)$.

  \item (Давыдов) Найти число инверсий в массиве через BST за $O(n \log n)$.

  \item (Опарин) В качестве доп. информации в узлах AVL-дерева хранится высота вершины. Размер этого числа составляет $O(\log n)$. Предложите реализацию AVL-дерева, в каждом узле которого хранится $O(1)$ бит доп. информации.

  \item (*) Задано множество точек на плоскости $S \in \mathbb{Z}^2$. Определим уровень точки, как в задаче Stars с тимуса.
  Требуется отвечать на запросы, определить уровень точки $x$ относительно множества $S$ за $O(\log n)$. Сама точка в множество \textbf{не} добавляется.

\end{enumerate}

\subsection{Что почитать...}

\begin{itemize}
  
  \item Для AVL-, 2-4- и красно-черных деревьев существует интересное обобщение ranked trees. Прочитать про них можно в книге Роберта Тарьяна: ``Data Structures and Network Algoritms'', а также в списке литературы той же книги.

\end{itemize}

\clearpage
